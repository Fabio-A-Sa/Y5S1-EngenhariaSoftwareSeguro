# Exam Preparation

- CIA (Confidentiality, Integrity, Availability). Accountability para o sistema ter logs suportando não repudiation;
- Threat é uma exploitable vulnerability;
- Network Attacks (passive: eavesdropping, sniffing; active: spoofing, replay, DDoS);
- Threat Modeling, pensar nos ataques possíveis, as defesas e mitigações necessárias. Tem as fases: vision, diagramming identification, mitigate, validate;
- STRIDE: spoofing, tampering, repudiation, information-disclosure, ddos, elevation-privilege;
- DREAD: damage, reproducibility, exploitability, affected users, discoverability;
- Blockchain usa consensus mecanismos (proof of work and stake) através de hashing, digital signatures and encryption;
- É transparente, descentralizada, e a ETH usa smart contracts (têm self-execution contracts com os termos encodados em código);
- Existem EOAs (External Owned Accounts) controladas por private keys e Contract Accounts (smart contracts que executam código ao receber transações);
- Gas é uma unidade de esforço computacional para executar transactions/operações;
- Fees são pagas em Ether, são gas incentivos para validar e minerar;
- HTTP é stateless, precisa de cookies para estabelecer sessões;
- Session hijacking quando as cookies são transmitidas em clear text;
- XSS quando o código direciona para sites maliciosos, CSRF quando usa cookie não expirada para fazer operações;
- Autenticação interna por SSO e externa por PIV (Personal Identification Verification), usando smartcards;
- OAuth usa authorization code & access token entre a o authorization server da aplicação e o resource server do serviço;
- OpenID Connect extends OAuth para providenciar uma idenficação direta do utilizador, porque o OAuth só tem access tokens, são opacos à identificação;
- Incluir um state value para perguntar por authorization, and Proof Key for Code Exchange (PKCE) porque o session token pode ficar na cache;
- Os tokens possuem source e targets que podem ser definidos;
- JWT são Json Tokens, JWS (com assinatura, usada em APPs porque assim facilmente os end-users conseguirem check) e JWE (com encriptação, para casos confidenciais como recursos);
- Os tokens devem ser short-lived, logo usam-se refresh-tokens, que são usados para requerer novos access tokens;
- Bearer tokens simples para autorização de um resource server, mas não impedem que sejam roubados;
- PoP tokens (proof of possession) faz com que o AuthZ associe uma key no momento da instanciação, sempre usando JWE. Para keys assimétricas o client stores both e o server a public, para keys simétricas o client and server stores both;
- Evita-se a geração de chaves se se usar Mutual TLS, mas aí usa-se a mesma assinatura para várias chaves;
- TLS é uma adaptação do SSL (Secure Sockets Layer) que é um protocolo de transporte. TLS fica acima de TCP protocol e abaixo da Application Layer;
- TLS é formado por Handshake (encription, MAC, authentication), Alert protocol (mensagens e errors), ChangeCypherSpec (update do cypher), Heartbeat (check link and prevent disconnection), Application/Record Protocol;
- O TLS secure channel promove confidencialidade, integridade e autenticação;
- HandShake: estabelecer a sessão, modo de enc, keys;
- O payload leva MAC e o índice da trama;
- Autenticação com cifras simétricas, usando um nouce para ser Enc pelos dos lados, pois só os endpoints conhecem a chave;
- Autenticação com cifras assimétricas, pública/privada, apenas a pública dos endpoints é conhecida;
- SCRAM Protocol, registration (id, password) + authentication (nouce);
- SRP (Secure Remote Password), provar o conhecimento da password sem a transmitir (não eavesdropping or man-in-the-middle). Computa uma grande key (random big integer) baseada na password e em números previamente acordados, e tanto o server como o user têm de gerar o mesmo;
- SRP precisa de um key generation server, confiado por todas as entidades;
- SRP precisa de um nounce ou um timestamp para prevenção de replay attacks;
- FIDO (Fast Identity Online), através de dados biométricos ou devices externos com criptografia assimétrica. As chaves são geradas no momento do registo;
- O FIDO server cria um binding entr
- Kerberos, com authenticação baseada em tickets, requer Authentication Server (AS) e um Ticket Ganting Server (TGS);
- Tickets têm timestamp, lifetime, a posse do ticket correcto provam a identidade do cliente;
- As versões mais recentes do keberos proporcionam trocas/requests de tickets, partições e replicações;